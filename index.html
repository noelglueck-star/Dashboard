<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<style>
  body {
    margin: 0;
    background-color: #000;
    color: #fff;
    font-family: Palatino, serif;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* Header */
  #header {
    font-size: 24px;
    text-align: center;
    margin-top: 10px;
  }

  /* Separator zwischen Sektionen */
  .separator {
    width: 80%;
    border-top: 1px solid rgba(255,255,255,0.2);
    margin: 20px 0;
  }

  /* Hauptuhr */
  #main-clock {
    width: 120px;
    height: 120px;
    border: 3px solid white;
    border-radius: 50%;
    position: relative;
    margin: 20px 0 5px 0;
  }
  .hand {
    position: absolute;
    width: 50%;
    height: 2px;
    background: white;
    top: 50%;
    left: 50%;
    transform-origin: 0% 50%;
  }
  #date {
    text-align: center;
    margin-bottom: 20px;
    font-size: 16px;
  }

  /* Wetter nebeneinander */
  .weather-container {
    display: flex;
    justify-content: center;
    gap: 60px;
  }
  .weather { text-align:center; }
  .weather .city { font-size: 18px; margin-bottom: 5px; }
  .weather .temp { font-size: 22px; font-weight: bold; }
  .weather .icon { font-size: 20px; margin-top: 5px; }

  /* Märkte nebeneinander, alle mit Strich links */
  .markets {
    display: flex;
    justify-content: center;
    gap: 50px;
    margin: 10px 0;
  }
  .market {
    text-align: center;
    font-size: 14px;
    border-left: 1px solid rgba(255,255,255,0.3);
    padding-left: 10px;
  }
  .market:first-child { border-left:none; padding-left:0; }

  /* Schlagzeilen */
  .news {
    text-align: center;
    margin: 20px 0;
    font-size: 14px;
  }
  .news-item {
    margin: 5px 0;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding-bottom: 3px;
  }

  /* Footer: Weltuhren */
  #footer {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    font-size: 14px;
    margin-top: 15px;
  }
  .world-clock {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 12px;
  }
  .analog-clock {
    width: 40px;
    height: 40px;
    border: 2px solid white;
    border-radius: 50%;
    position: relative;
    margin-bottom: 2px;
  }

  /* Logo */
  #logo {
    position: absolute;
    bottom: 5px;
    font-family: Volstead, cursive;
    font-size: 16px;
    text-align: center;
    width: 100%;
  }
</style>
</head>
<body>

<div id="header">Hallo Noel!</div>

<!-- Hauptuhr -->
<div id="main-clock">
  <div class="hand" id="main-hour"></div>
  <div class="hand" id="main-minute" style="height:1.5px;"></div>
</div>
<div id="date"></div>

<div class="separator"></div>

<!-- Wetter -->
<div class="weather-container">
  <div class="weather" id="weather-albstadt">
    <div class="city">Albstadt</div>
    <div class="temp">5°C</div>
    <div class="icon">☀️</div>
  </div>
  <div class="weather" id="weather-boeblingen">
    <div class="city">Böblingen</div>
    <div class="temp">7°C</div>
    <div class="icon">☀️</div>
  </div>
</div>

<div class="separator"></div>

<!-- Märkte -->
<div class="markets">
  <div class="market" id="bitcoin">BTC<br>23.500€<br>+1.2%</div>
  <div class="market" id="sp500">S&P 500<br>4.250$<br>+0.5%</div>
  <div class="market" id="dax-etf">DAX-ETF<br>15.300€<br>+0.7%</div>
</div>

<div class="separator"></div>

<!-- Schlagzeilen -->
<div class="news" id="news-container">
  <div class="news-item">Nachrichten werden geladen...</div>
</div>

<div class="separator"></div>

<!-- Footer: Weltuhren -->
<div id="footer">
  <div class="world-clock">
    <div class="analog-clock" id="clock-atlanta"><div class="hand" id="atlanta-hour"></div><div class="hand" id="atlanta-minute" style="height:1.5px;"></div></div>
    <div>Atlanta</div>
  </div>
  <div class="world-clock">
    <div class="analog-clock" id="clock-seoul"><div class="hand" id="seoul-hour"></div><div class="hand" id="seoul-minute" style="height:1.5px;"></div></div>
    <div>Seoul</div>
  </div>
  <div class="world-clock">
    <div class="analog-clock" id="clock-peking"><div class="hand" id="peking-hour"></div><div class="hand" id="peking-minute" style="height:1.5px;"></div></div>
    <div>Peking</div>
  </div>
  <div class="world-clock">
    <div class="analog-clock" id="clock-tokio"><div class="hand" id="tokio-hour"></div><div class="hand" id="tokio-minute" style="height:1.5px;"></div></div>
    <div>Tokio</div>
  </div>
</div>

<!-- Logo -->
<div id="logo">NG</div>

<script>
/* ===================== Hauptuhr ===================== */
function updateMainClock() {
  const now = new Date();
  const hours = now.getHours() % 12;
  const minutes = now.getMinutes();
  document.getElementById('main-hour').style.transform = `rotate(${hours*30 + minutes*0.5}deg)`;
  document.getElementById('main-minute').style.transform = `rotate(${minutes*6}deg)`;

  const options = { weekday:'long', year:'numeric', month:'long', day:'numeric'};
  document.getElementById('date').textContent = now.toLocaleDateString('de-DE', options);
}
updateMainClock();
setInterval(updateMainClock,1000);

/* ===================== Weltuhren ===================== */
function updateClock(hourId, minuteId, offset) {
  const now = new Date();
  const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
  const cityTime = new Date(utc + (3600000 * offset));
  const hours = cityTime.getHours() % 12;
  const minutes = cityTime.getMinutes();
  document.getElementById(hourId).style.transform = `rotate(${hours*30 + minutes*0.5}deg)`;
  document.getElementById(minuteId).style.transform = `rotate(${minutes*6}deg)`;
}
const clocks = [
  {h:'atlanta-hour', m:'atlanta-minute', offset:-5},
  {h:'seoul-hour', m:'seoul-minute', offset:9},
  {h:'peking-hour', m:'peking-minute', offset:8},
  {h:'tokio-hour', m:'tokio-minute', offset:9},
];
function updateAllClocks() { clocks.forEach(c => updateClock(c.h,c.m,c.offset)); }
updateAllClocks();
setInterval(updateAllClocks,1000);

/* ===================== Schlagzeilen mit Rückfallebenen ===================== */
const NEWS_API_KEY = "230e953770ba4a2d8de64021a4976827"; // dein Key
const newsContainer = document.getElementById("news-container");

const fallbackNews = [
  "Fallback Nachricht 1",
  "Fallback Nachricht 2",
  "Fallback Nachricht 3",
];

async function fetchNews() {
  try {
    const res = await fetch(`https://newsapi.org/v2/top-headlines?country=de&pageSize=5&apiKey=${NEWS_API_KEY}`);
    const data = await res.json();
    newsContainer.innerHTML = "";
    if(data.articles && data.articles.length > 0){
      data.articles.forEach(article => {
        const div = document.createElement("div");
        div.className = "news-item";
        div.textContent = article.title;
        newsContainer.appendChild(div);
      });
    } else {
      fallbackNews.forEach(f => {
        const div = document.createElement("div");
        div.className = "news-item";
        div.textContent = f;
        newsContainer.appendChild(div);
      });
    }
  } catch(err){
    console.error(err);
    fallbackNews.forEach(f => {
      const div = document.createElement("div");
      div.className = "news-item";
      div.textContent = f;
      newsContainer.appendChild(div);
    });
  }
}
fetchNews();
setInterval(fetchNews, 5*60*1000);
</script>

</body>
</html>